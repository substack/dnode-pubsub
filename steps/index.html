<html>
<head>
<title>Rolling your own PubSub with DNode!</title>
<script src="/browserify.js" type="text/javascript"></script>
<script type="text/javascript">
    var dnode = require('dnode');
    var EventEmitter = require('events').EventEmitter;
    
    window.onload = function () {
        dnode.connect(function (remote) {
            var em = new EventEmitter;
            
            em.on('data', function (n) {
                document.getElementById('output').innerHTML += n + ' ';
            });
            
            var emit = em.emit.bind(em);
            remote.subscribe(emit);
        });
    };
</script>
</head>
<body>

<div id="output"></div>

</body>
</html>
